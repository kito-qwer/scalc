# scalc

## バージョン

0.1.1

## 機能

- 四則演算
- 単項マイナス
- 括弧
- 代入
- 組み込み関数
- ファイルからのコマンド実行
- インタラクティブモード
- ワンショットモード

## ビルド方法

C++ コンパイラが必要です。G++の場合、以下のコマンドでビルドできます。

```bash
g++ main.cpp -o scalc -std=c++11 -Wall -Wextra -pedantic -lm
```

## 使い方

### コマンドラインオプション

- `-h`, `--help`: ヘルプを表示します。
- `-v`, `--version`: バージョンを表示します。
- `-o`, `--once`: ワンショットモードでコマンドを実行します。
- `-f <path>`: ファイル内のコマンドを実行します。
- `--file <path>`: 同上

- オプションを指定せず実行するとインタラクティブモードに入ります。
- デフォルトでは、起動時に`init.scalc`ファイルが存在すれば実行します。`-f`オプションでほかのファイルを指定することも可能です。

### インタラクティブモード

起動時にオプションを指定しない場合、または'-o'オプションを指定しない場合にインタラクティブモードに入ります。プロンプト`>`が表示され、数式やコマンドを入力できます。

#### インタラクティブコマンド

- `:e`, `:exit`: インタラクティブモードを終了します。
- `:h`, `:help`: ヘルプを表示します。
- `:f <path>`, `:file <path>`: 指定したファイルからコマンドを実行します。複数のファイルをスペース区切りで指定します。パスにスペースが含まれる場合は、クォーテーション(`"`または`'`)で囲むか、バックスラッシュ(`\`)でエスケープが必要です。

### ファイルからの実行

`-f`オプションを使用するか、インタラクティブモードで`:f`コマンドを使用することで、ファイルに記述されたコマンドを実行します。

### 組み込み関数

| 関数名 | 引数数 | 説明 |
| - | - | - |
| sin(x) | 1 | sin(x) |
| cos(x) | 1 | cos(x) |
| tan(x) | 1 | tan(x) |
| asin(x) | 1 | arcsin(x) |
| acos(x) | 1 | arccos(x) |
| atan(x) | 1 | arctan(x) |
| sinh(x) | 1 | sinh(x) |
| cosh(x) | 1 | cosh(x) |
| tanh(x) | 1 | tanh(x) |
| asinh(x) | 1 | arcsinh(x) |
| acosh(x) | 1 | arccosh(x) |
| atanh(x) | 1 | arctanh(x) |
| sqrt(x) | 1 | xの平方根 |
| cbrt(x) | 1 | xの立方根 |
| exp(x) | 1 | eのx乗 |
| ln(x) | 1 | 自然対数 (底はe) |
| log10(x) | 1 | 常用対数 (底は10) |
| log2(x) | 1 | 2を底とする対数 |
| abs(x) | 1 | xの絶対値 |
| log(base, x) | 2 | 指定した底 base による x の対数 |
| pow(base, exp) | 2 | base の exp 乗 |
| mod(x, y) | 2 | x を y で割った浮動小数点余り |

## 注意事項

- この電卓は浮動小数点数を扱います。計算精度は`double`型に依存します。
- 再帰的なファイル読み込みは`MAX_DEPTH`(デフォルト128)までに制限されます。

## 著作権

Copyright (C) 2025 Qvito(kito)
